\section{Compute the Pareto frontier}

\paragraph{Representation} A three-dimensional Pareto frontier can be defined as three groups of \textit{facets}, each group with its own orientation, perpendicular to one of the three axes. Each of these facets is generated by (in most of the cases) one solution, hereafter designated as a \textit{point}. The intersections between the points are designated as \textit{vertices}. A facet can be divided into several \textit{triangles}, formed by points and vertices. The reasons for representing each of the facets using triangles are the following: any non-curved shape can be represented as a set of one or more triangles; also, being the triangle the most basic shape that can have internal area, any 3D graphics visualisation tool should provide with a way to display triangles.

\paragraph{Methodology} The algorithm for computing the three-dimensional Pareto frontier uses the method for finding the optima as an underlying structure. However, using the method only once would produce only one of the three groups of facets. Therefore, three \textit{dimensional sweeps} of the points are required to represent the whole frontier, with each sweep using a different sorting order for the points: $\{x_1,x_2,x_3\}$, $\{x_2,x_3,x_1\}$ and $\{x_3,x_1,x_2\}$ --- with the respective projection trees as $\{x_2,x_3,x_1\}$, $\{x_3,x_1,x_2\}$ and $\{x_1,x_2,x_3\}$.

\paragraph{Reference point and sentinels} To define the limits of the frontier the concept of a \textit{reference point} was employed. The reference point is defined by the maximum values of the set of points on the three dimensions. Additionally, a small margin is added to the values both for visualisation purposes and to circumvent eventual complications with computer's numerical precision. Using the reference point, one can create two \textit{sentinel points}, designed to be at the extremes of the projection tree, ensuring that a point always has a predecessor and a successor, thus easing the implementation of the algorithm. The sentinels assume the values of the reference point in one of the two dimensions and negative infinity on the other, so there is no point beyond it, e.g.\ $(r_2,-\infty)$ and $(-\infty,r_3)$, where $r$ is the reference point. The third dimension is irrelevant, since the sentinels are used only in the projection tree.

\input{figures/facet_computation}

\paragraph{Algorithm} \textit{Consider the first dimensional sweep for the following description.} If a point $p$ is non-optimal then no facets are to be calculated, and the processing function can be terminated. If the point is optimal, the first step of the algorithm is to find vertex $v1$, which is the intersection of $p$ and its predecessor in the projection tree, or its successor in the case that this has the same $x_2$ value as $p$. Next, the loop that iterates through the successors of $p$ in the projection tree is performed, so to find vertices $v2$ and $v3$. Vertex $v3$ is either the successor of $p$ or, in the case that the successor has an equal or lower $x_3$ value, their intersection --- being the latter the point at which the loop is terminated. Vertex $v2$ is the intersection of vertices $v1$ and $v3$. Between cycles, vertex $v3$ becomes vertex $v1$. The triangles that are calculated during each cycle are formed by the points/vertices $[v1,p,v3]$ and $[v1,v2,v3]$.

\paragraph{Special case: facet sharing} During the computation of the facets of the frontier, there is one case that requires special attention. This occurs when two optimal points share the same value in one of the dimensions and the edges that originate from them intersect each other in a non-dominated region. If this happens, both points are responsible for the generation of different sections of the same facet, hence the name \textit{facet sharing}. Upon detection of the occurrence of this special case, the solution is to create the vertex $v3$ at the intersection of the two points and save vertices $v2$ and $v3$ from the processing of one point to be used as vertices $v2$ and $v1$, respectively, by the processing of the next point. The special handling of this case is not strictly necessary for the correct representation of the facet, however, it is adopted for two reasons: doing so avoids the creation of one additional vertex per special case --- in the location where the vertex $v3$ would normally be; also, in the case that one wants to find and highlight the edges of the frontier, i.e.\ adjacencies between vertices and/or points that are not between triangles with the same orientation, the handling of this special case would be necessary nonetheless. 

\input{figures/facet_computation_special}

\input{algorithms/facet_computation}

\paragraph{Complexity} In addition to the method for finding the optima, which defines the structure for the computation of the frontier, the other operations that are performed in this algorithm are the creation of vertices and triangles, whose number is in relation to the number of optimal solutions. Since both these operations perform in $\mathcal{O}(1)$ time, the overall time complexity of the algorithm is maintained, $\underline{\smash{\mathcal{O}(n\log n)}}$. Space-wise, the projection tree is still the only auxiliary storage necessary --- if the sorting function can be modified in accordance to the performing dimensional sweep it requires $\mathcal{O}(n)$ space; otherwise, $\mathcal{O}(3n)$. Therefore, the space complexity is also maintained, $\underline{\smash{\mathcal{O}(n)}}$.